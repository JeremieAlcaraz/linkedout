(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[363],{7707:function(e,t,r){Promise.resolve().then(r.bind(r,8065))},8065:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var n=r(7437),a=r(4033),s=r(2265),i=r(3067),o=r(4227),l=r(3023),d=r(9311);let c=s.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...a})});c.displayName="Textarea";var u=r(1250),m=r(3768);async function f(e){try{let t=await fetch("https://n8n-zjrvqodz.cloud-station.app/webhook/linkedout/generate-draft",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();return{draftReply:r.draftReply}}catch(e){return{draftReply:"Sorry, I couldn't generate a draft reply at the moment. Please try again later."}}}function h(e){let{author:t}=e;if(t.avatarUrl)return(0,n.jsx)("img",{src:t.avatarUrl,alt:t.name,className:"w-8 h-8 rounded-full"});let r=t.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2),a=function(e){let t=0;for(let r=0;r<e.length;r++)t=e.charCodeAt(r)+((t<<5)-t);let r=t%360;return"hsl(".concat(r,", 65%, 25%)")}(t.name);return(0,n.jsx)("div",{className:(0,d.cn)("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium text-primary-foreground"),style:{backgroundColor:a},children:r})}function p(e){let{message:t}=e,r=Date.now()-t.timestamp.getTime()<864e5;return(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(h,{author:t.author}),(0,n.jsx)("span",{className:"font-semibold",children:t.author.name})]}),(0,n.jsx)("p",{className:"text-muted-foreground pl-10 whitespace-pre-wrap",children:t.content}),(0,n.jsx)("div",{className:"pl-10 text-sm text-muted-foreground",children:r?"Sent ".concat((0,m.Z)(t.timestamp)," ago"):"Sent ".concat((0,u.ZP)(t.timestamp,"HH:mm 'on' dd MMMM, yyyy"))})]})}function g(){let e=(0,a.useRouter)(),t=(0,a.useSearchParams)(),[r,d]=(0,s.useState)(""),[u,m]=(0,s.useState)(!1),[h,g]=(0,s.useState)(!1),[x,b]=(0,s.useState)(!1);(0,s.useEffect)(()=>{b(!0)},[]);let v=null==t?void 0:t.get("id"),y={id:"1234",messages:[{id:"1",author:{id:"1",name:"Maxym Tkacz",followers:3500,linkedinUrl:"https://linkedin.com/in/maxymtkacz",threadUrl:"#"},content:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",timestamp:new Date(2025,1,12,11,56)},{id:"2",author:{id:"2",name:"Luis Guzman",linkedinUrl:"https://linkedin.com/in/luisguzman",threadUrl:"#"},content:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\n\nUt enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",timestamp:new Date(2025,1,12,11,58)}]},j=async()=>{m(!0);try{let e=y.messages[y.messages.length-1],t=await f({toFullName:e.author.name,messageToReplyTo:e.content,messageCategory:"love-your-content"});d(t.draftReply)}finally{m(!1)}},w=async()=>{if(r.trim()&&!h){g(!0);try{await new Promise(e=>setTimeout(e,1e3)),d("")}catch(e){console.error("Failed to send message:",e)}finally{g(!1)}}},N=e=>{window.open(e,"_blank")};if(!x)return null;if(!v||!y)return e.push("/inbox"),null;let k=y.messages[0];return(0,n.jsxs)("div",{className:"container mx-auto py-6 max-w-4xl",children:[(0,n.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,n.jsxs)(l.z,{variant:"ghost",className:"gap-2",onClick:()=>e.push("/inbox"),children:[(0,n.jsx)(i.Z,{className:"h-4 w-4"}),"Back"]})}),(0,n.jsxs)("div",{className:"border border-border rounded-lg bg-background",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold",children:k.author.name}),k.author.followers&&(0,n.jsxs)("span",{className:"px-2 py-1 text-sm bg-secondary rounded-md",children:[(k.author.followers/1e3).toFixed(1),"k"]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(l.z,{variant:"outline",onClick:()=>N(k.author.linkedinUrl),children:"LinkedIn Profile"}),(0,n.jsx)(l.z,{variant:"outline",onClick:()=>N(k.author.threadUrl),children:"Open Thread"})]})]}),(0,n.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:y.messages.map(e=>(0,n.jsx)(p,{message:e},e.id))})]}),(0,n.jsx)("div",{className:"mt-4 rounded-xl border border-border bg-background p-4",children:(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsxs)("div",{className:"relative flex-grow",children:[(0,n.jsx)(c,{value:r,onChange:e=>d(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),w())},placeholder:"Write reply here...",className:"min-h-[100px] resize-none border-0 focus-visible:ring-0 text-lg p-0 pr-28"}),(0,n.jsxs)(l.z,{variant:"ghost",className:"absolute right-0 top-0 gap-2 hover:bg-transparent text-muted-foreground hover:text-foreground",onClick:j,disabled:u,children:[(0,n.jsx)(o.Z,{className:"h-5 w-5"}),"Generate"]})]}),(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)(l.z,{size:"icon",className:"h-12 w-12 rounded-lg bg-muted hover:bg-muted/80",disabled:!r.trim()||h,onClick:w,children:(0,n.jsx)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M5 12H19M19 12L13 6M19 12L13 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})})]})})]})}},3023:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var n=r(7437),a=r(2265),s=r(4949),i=r(6061),o=r(9311);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:d=!1,...c}=e,u=d?s.g7:"button";return(0,n.jsx)(u,{className:(0,o.cn)(l({variant:a,size:i,className:r})),ref:t,...c})});d.displayName="Button"},9311:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var n=r(7042),a=r(4769);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}}},function(e){e.O(0,[650,253,971,864,744],function(){return e(e.s=7707)}),_N_E=e.O()}]);