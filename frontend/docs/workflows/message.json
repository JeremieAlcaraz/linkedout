{
    "nodes": [
      {
        "parameters": {
          "method": "POST",
          "url": "={{ $env.UNIPILE_API_URL }}/api/v1/chats/{{ $json.body.chatId }}/messages",
          "authentication": "genericCredentialType",
          "genericAuthType": "httpHeaderAuth",
          "sendHeaders": true,
          "headerParameters": {
            "parameters": [
              {
                "name": "accept",
                "value": "application/json"
              }
            ]
          },
          "sendBody": true,
          "contentType": "multipart-form-data",
          "bodyParameters": {
            "parameters": [
              {
                "name": "text",
                "value": "={{ $json.body.message }}"
              },
              {
                "name": "message_id",
                "value": "={{ $json.body.messageId }}"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.httpRequest",
        "typeVersion": 4.2,
        "position": [
          320,
          0
        ],
        "id": "87b03200-38a8-4280-b408-dbfb1a59280e",
        "name": "Send LinkedIn Message",
        "notes": "## Send Message to LinkedIn\nSends message via Unipile API to LinkedIn chat",
        "credentials": {
          "httpHeaderAuth": {
            "id": "YOUR_CREDENTIAL_ID",
            "name": "unipile"
          }
        }
      },
      {
        "parameters": {
          "httpMethod": "POST",
          "path": "linkedout/message",
          "responseMode": "responseNode",
          "options": {}
        },
        "type": "n8n-nodes-base.webhook",
        "typeVersion": 2,
        "position": [
          0,
          0
        ],
        "id": "65297262-b861-419f-981e-fb2aa444f88d",
        "name": "Message Endpoint",
        "notes": "## Message Send Endpoint\nReceives message send requests from frontend"
      },
      {
        "parameters": {
          "respondWith": "text",
          "responseBody": "={{ $json.object }}",
          "options": {}
        },
        "type": "n8n-nodes-base.respondToWebhook",
        "typeVersion": 1.1,
        "position": [
          560,
          0
        ],
        "id": "4265839e-62f9-400b-a74b-0b982a4325e0",
        "name": "Send Response"
      },
      {
        "parameters": {
          "content": "## Message Sending Flow\n\nHandles sending messages to LinkedIn:\n- Receives message content from frontend\n- Sends via Unipile API\n- Returns send status",
          "height": 220,
          "width": 400,
          "color": 7
        },
        "type": "n8n-nodes-base.stickyNote",
        "position": [0, -200],
        "name": "Workflow Overview"
      },
      {
        "parameters": {
          "content": "⚠️ Required Environment Variable:\nUNIPILE_API_URL\n\nEither replace URLs directly or inject in n8n instance",
          "height": 120,
          "width": 300,
          "color": 5
        },
        "type": "n8n-nodes-base.stickyNote",
        "position": [320, 200],
        "name": "Environment Setup"
      }
    ],
    "connections": {
      "HTTP Request1": {
        "main": [
          [
            {
              "node": "Send Response",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Webhook": {
        "main": [
          [
            {
              "node": "Send LinkedIn Message",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    },
    "pinData": {},
    "meta": {
      "templateCredsSetupCompleted": true,
      "instanceId": "8306bac07189426109b85dc84bda2fe508e10d48e9008000e3c6ce251a84a04a"
    }
  }